# 10장 핵심 요약 --- Structures & Macros

## 1. 구조체(Structures)

### ✅ 구조체 개념

-   논리적으로 관련된 변수들의 집합
-   각 변수는 **필드(Field)** 라고 부름
-   STRUCT \~ ENDS 지시어로 정의
-   서로 다른 데이터 타입 포함 가능

### ✅ 구조체 필드 초기화

-   `?` : 초기값 없음
-   문자열 : `"ABC"`
-   정수 : `10`
-   배열 : `DUP()`

### ✅ 메모리 정렬(Alignment)

-   성능 향상을 위해 데이터 타입 크기에 맞게 정렬
-   BYTE → WORD → DWORD 순으로 정렬 권장

### ✅ 구조체 변수 선언

-   `< >` 사용 시 기본 초기화값 적용
-   일부 필드만 선택 초기화 가능

### ✅ 구조체 접근 방법

-   직접 접근: `emp.Years`
-   간접 접근: `(Employee PTR [esi]).Years`
-   배열 접근 가능

### ✅ 중첩 구조체

-   구조체 안에 또 다른 구조체 포함 가능

### ✅ Union (유니온)

-   모든 필드가 같은 메모리 주소 공유
-   가장 큰 필드 크기만큼만 메모리 사용
-   한 번에 하나의 값만 의미 있음

------------------------------------------------------------------------

## 2. 매크로(Macros)

### ✅ 매크로 개념

-   코드 복사 방식(Inline Expansion)
-   실행 전 **전처리 단계**에서 확장됨

### ✅ 매크로 매개변수

-   텍스트 치환 방식
-   `REQ` : 필수 인자 설정 가능

### ✅ LOCAL 지시어

-   매크로 내부 라벨 중복 방지

### ✅ 중첩 매크로

-   매크로 안에서 또 다른 매크로 호출 가능

### ✅ 매크로 라이브러리

-   mWrite, mReadString, mDumpMem 등 제공

------------------------------------------------------------------------

## 3. 조건부 어셈블러 지시어

### ✅ IF 계열

-   IF, IFB, IFIDN, IFIDNI 등 사용 가능
-   매크로 인자 검증 가능

### ✅ 특수 연산자

-   `&` : 치환 연산자
-   `%` : 확장 연산자
-   `< >` : 문자 묶음
-   `!` : 연산자 무시

### ✅ 매크로 함수

-   항상 상수 반환
-   `EXITM`으로 결과 리턴

------------------------------------------------------------------------

## 4. 반복 블록 지시어

  지시어   기능
  -------- -----------
  WHILE    조건 반복
  REPEAT   횟수 반복
  FOR      목록 반복
  FORC     문자 반복

------------------------------------------------------------------------

## ✅ 시험 핵심 포인트

-   STRUCT 정의 문법 매우 중요
-   ALIGN 개념 반드시 이해
-   UNION vs STRUCT 비교
-   MACRO는 "컴파일 타임 코드 복사"
-   IF 계열은 **상수 표현식만 가능**
-   FOR, WHILE은 실행이 아닌 **어셈블 시 반복**
